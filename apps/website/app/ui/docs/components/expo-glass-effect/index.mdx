import { CodePreviewer } from '@/components/custom/code-previewer';
import { GlassView, GlassContainer } from '@/components/ui/expo-glass-effect';
import { Text } from '@/components/ui/text';
import { VStack } from '@/components/ui/vstack';
import { View } from 'react-native';
import { HStack } from '@/components/ui/hstack';

import { CodeBlock } from "@/components/custom/markdown/code-block"; 

import {
  Table,
  TableHeader,
  TableCell,
  TableHeaderCell,
  TableBody,
  TableRow,
} from '@/docs-components/table';
import { InlineCode } from '@/docs-components/inline-code';
import ManualInstallationNote from '@/docs-components/manual-installation-note';

# GlassEffect

A glass effect component for React Native built on top of [expo-glass-effect](https://docs.expo.dev/versions/latest/sdk/glass-effect/) with gluestack-ui styling and NativeWind className support.

> **Note:** GlassEffect is **not supported in Next.js**. It is intended for React Native and Expo environments only. `expo-glass-effect` requires native iOS/Android APIs that are not available in browser environments. On iOS, liquid glass requires **iOS 26+** (`isLiquidGlassAvailable`). On Android and older iOS, a standard glass blur fallback is used (`isGlassEffectAPIAvailable`).

This is an illustration of the **GlassEffect** component.

  

  A simple GlassView displaying content with the default glass effect style.
  
  <CodePreviewer
  code={`function Example() {
  return (
    <View className="w-72 h-52 rounded-2xl overflow-hidden">
      {/* Colorful background so the glass effect is visible */}
      <View className="absolute inset-0 bg-indigo-500" />
      <View className="absolute top-0 left-0 w-28 h-28 rounded-full bg-purple-400 -translate-x-6 -translate-y-6" />
      <View className="absolute bottom-0 right-0 w-32 h-32 rounded-full bg-pink-400 translate-x-8 translate-y-8" />
      <View className="absolute top-6 right-6 w-16 h-16 rounded-full bg-yellow-300 opacity-70" />

      {/* Glass card */}
      <View className="flex-1 items-center justify-center p-4">
        <GlassView className="p-5 rounded-2xl items-center gap-1.5" glassEffectStyle="clear">
          <Text className="text-foreground/90 text-lg font-semibold">Glass Effect</Text>
          <Text className="text-foreground/70 text-sm text-center">
            Built with expo-glass-effect
          </Text>
        </GlassView>
      </View>
    </View>
  )
}`}
  argTypes={{}}
  reactLive={{ GlassView, Text, VStack, View }}
  importMap={{"@/components/ui/expo-glass-effect":["GlassView"],"@/components/ui/text":["Text"],"@/components/ui/vstack":["VStack"],"react-native":["View"]}}
/>


  #### With GlassContainer

  Use GlassContainer to group multiple GlassView elements so they visually merge together when close to each other.
  
  <CodePreviewer
  code={`function Example() {
  return (
    <View className="w-72 rounded-2xl overflow-hidden">
      {/* Colorful background so the glass effect is visible */}
      <View className="absolute inset-0 bg-teal-600" />
      <View className="absolute top-0 right-0 w-36 h-36 rounded-full bg-emerald-400 translate-x-10 -translate-y-10" />
      <View className="absolute bottom-0 left-0 w-32 h-32 rounded-full bg-cyan-400 -translate-x-8 translate-y-8" />
      <View className="absolute top-1/2 left-1/4 w-20 h-20 rounded-full bg-lime-300 opacity-50" />

      {/* GlassContainer merges adjacent GlassViews */}
      <View className="p-4">
        <GlassContainer spacing={10} className="rounded-3xl bg-background/30">
          <VStack className="gap-2 p-2">
            <GlassView className="p-4 rounded-full" isInteractive>
              <HStack className="gap-3 items-center px-4">
                <VStack className="gap-0.5">
                  <Text className="text-foreground/90 font-semibold">Notifications</Text>
                  <Text className="text-foreground/70 text-sm">3 new alerts</Text>
                </VStack>
              </HStack>
            </GlassView>
            <GlassView className="p-4 rounded-full" isInteractive>
              <HStack className="gap-3 items-center px-4">
                <VStack className="gap-0.5">
                  <Text className="text-foreground/90 font-semibold">Messages</Text>
                  <Text className="text-foreground/70 text-sm">2 unread</Text>
                </VStack>
              </HStack>
            </GlassView>
          </VStack>
        </GlassContainer>
      </View>
    </View>
  )
}`}
  argTypes={{}}
  reactLive={{ GlassView, GlassContainer, Text, VStack, HStack, View }}
  importMap={{"@/components/ui/expo-glass-effect":["GlassView","GlassContainer"],"@/components/ui/text":["Text"],"@/components/ui/vstack":["VStack"],"@/components/ui/hstack":["HStack"],"react-native":["View"]}}
/>


  #### With Color Scheme

  Override the glass effect's appearance independently from the system theme using the colorScheme prop.
  
  <CodePreviewer
  code={`function Example() {
  return (
    <View className="w-72 h-40 rounded-2xl overflow-hidden">
      {/* Colorful background so the glass effect is visible */}
      <View className="absolute inset-0 bg-violet-600" />
      <View className="absolute top-0 left-0 w-32 h-32 rounded-full bg-fuchsia-400 -translate-x-8 -translate-y-8" />
      <View className="absolute bottom-0 right-0 w-28 h-28 rounded-full bg-blue-400 translate-x-6 translate-y-6" />
      <View className="absolute top-4 right-12 w-14 h-14 rounded-full bg-rose-300 opacity-60" />

      <View className="flex-1 flex-row items-center justify-center gap-3 px-4">
        <GlassContainer className="flex-row gap-2">
        <GlassView colorScheme="light" className="flex-1 h-24 rounded-xl items-center justify-center gap-1" glassEffectStyle="clear" isInteractive>
          <Text className="text-white font-semibold text-sm">Light</Text>
          <Text className="text-white/70 text-xs">Always light</Text>
        </GlassView>
        <GlassView colorScheme="dark" className="flex-1 h-24 rounded-xl items-center justify-center gap-1" glassEffectStyle="clear" isInteractive>
          <Text className="text-white font-semibold text-sm">Dark</Text>
          <Text className="text-white/70 text-xs">Always dark</Text>
        </GlassView>
        <GlassView colorScheme="auto" className="flex-1 h-24 rounded-xl items-center justify-center gap-1" glassEffectStyle="clear" isInteractive>
          <Text className="text-white font-semibold text-sm">Auto</Text>
          <Text className="text-white/70 text-xs">System</Text>
        </GlassView>
        </GlassContainer>
      </View>
    </View>
  )
}`}
  argTypes={{}}
  reactLive={{ GlassView, Text, VStack, HStack, View }}
  importMap={{"@/components/ui/expo-glass-effect":["GlassView"],"@/components/ui/text":["Text"],"@/components/ui/vstack":["VStack"],"@/components/ui/hstack":["HStack"],"react-native":["View"]}}
/>


  #### With Glass Style

  Compare the 'regular' and 'clear' glass effect styles side by side.
  
  <CodePreviewer
  code={`function Example() {
  return (
    <View className="w-72 h-44 rounded-2xl overflow-hidden">
      {/* Colorful background so the glass effect is visible */}
      <View className="absolute inset-0 bg-orange-500" />
      <View className="absolute top-0 right-0 w-36 h-36 rounded-full bg-red-400 translate-x-10 -translate-y-10" />
      <View className="absolute bottom-0 left-0 w-32 h-32 rounded-full bg-amber-300 -translate-x-8 translate-y-8" />
      <View className="absolute top-8 left-10 w-16 h-16 rounded-full bg-yellow-200 opacity-60" />

      <View className="flex-1 flex-row items-center justify-center gap-4 px-5">
        <GlassView
          glassEffectStyle="regular"
          isInteractive
          className="flex-1 h-28 rounded-3xl items-center justify-center gap-1.5"
        >
          <Text className="text-foreground/90 font-semibold">Regular</Text>
          <Text className="text-foreground/70 text-xs text-center">Frosted</Text>
        </GlassView>
        <GlassView
          glassEffectStyle="clear"
          isInteractive
          className="flex-1 h-28 rounded-3xl items-center justify-center gap-1.5"
        >
          <Text className="text-foreground/90 font-semibold">Clear</Text>
          <Text className="text-foreground/70 text-xs text-center">Transparent</Text>
        </GlassView>
      </View>
    </View>
  )
}`}
  argTypes={{}}
  reactLive={{ GlassView, Text, HStack, View }}
  importMap={{"@/components/ui/expo-glass-effect":["GlassView"],"@/components/ui/text":["Text"],"@/components/ui/hstack":["HStack"],"react-native":["View"]}}
/>

<br />

## Installation

### Run the following command:

<CodeBlock code={`${process.env.NEXT_PUBLIC_GLUESTACK_COMMAND || 'npx gluestack-ui'} add expo-glass-effect`} language="bash" />

<ManualInstallationNote />

## API Reference

To use this component in your project, include the following import statement in your file.

```jsx
import {
  GlassView,
  GlassContainer,
  isLiquidGlassAvailable,
  isGlassEffectAPIAvailable,
} from '@/components/ui/expo-glass-effect';
```

```jsx
export default () => (
  <GlassContainer className="p-4 rounded-2xl">
    <GlassView className="p-6 rounded-xl items-center">
      <Text className="text-foreground font-semibold">Glass Effect</Text>
    </GlassView>
  </GlassContainer>
);
```

### Component Props

This section provides a comprehensive reference list for the component props, detailing descriptions, properties, types, and default behavior for easy project integration.

#### GlassView

A view that applies a native glass blur effect. Extends React Native's [View](https://reactnative.dev/docs/view) with glass-specific props.

### Props

  <Table>
    <TableHeader>
      <TableRow>
        <TableHeaderCell>Prop</TableHeaderCell>
        <TableHeaderCell>Type</TableHeaderCell>
        <TableHeaderCell>Default</TableHeaderCell>
        <TableHeaderCell>Description</TableHeaderCell>
      </TableRow>
    </TableHeader>
    <TableBody>
      <TableRow>
        <TableCell><InlineCode>glassEffectStyle</InlineCode></TableCell>
        <TableCell>'regular' | 'clear'</TableCell>
        <TableCell>'regular'</TableCell>
        <TableCell>{`The visual style of the glass effect. 'regular' gives a frosted look; 'clear' is more transparent.`}</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><InlineCode>tintColor</InlineCode></TableCell>
        <TableCell>string</TableCell>
        <TableCell>-</TableCell>
        <TableCell>{`A color tint applied on top of the glass blur effect.`}</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><InlineCode>isInteractive</InlineCode></TableCell>
        <TableCell>boolean</TableCell>
        <TableCell>false</TableCell>
        <TableCell>{`When true, the glass effect responds to user interaction (e.g. press feedback on iOS 26+ liquid glass).`}</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><InlineCode>colorScheme</InlineCode></TableCell>
        <TableCell>'auto' | 'light' | 'dark'</TableCell>
        <TableCell>'auto'</TableCell>
        <TableCell>{`Overrides the system appearance for the glass effect. Use when your app has its own theme toggle independent of the system setting.`}</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><InlineCode>className</InlineCode></TableCell>
        <TableCell>string</TableCell>
        <TableCell>-</TableCell>
        <TableCell>{`NativeWind className for layout, sizing, border radius, and other style utilities.`}</TableCell>
      </TableRow>
    </TableBody>
  </Table>

Also inherits all props of React Native's [View](https://reactnative.dev/docs/view).

#### GlassContainer

A container that groups multiple `GlassView` elements together. When glass views are close enough (controlled by `spacing`), they visually merge into one connected glass surface on iOS 26+ with liquid glass enabled.

### Props

  <Table>
    <TableHeader>
      <TableRow>
        <TableHeaderCell>Prop</TableHeaderCell>
        <TableHeaderCell>Type</TableHeaderCell>
        <TableHeaderCell>Default</TableHeaderCell>
        <TableHeaderCell>Description</TableHeaderCell>
      </TableRow>
    </TableHeader>
    <TableBody>
      <TableRow>
        <TableCell><InlineCode>spacing</InlineCode></TableCell>
        <TableCell>number</TableCell>
        <TableCell>-</TableCell>
        <TableCell>{`The distance threshold at which glass elements start merging together. Controls when adjacent GlassView elements blend into one surface.`}</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><InlineCode>className</InlineCode></TableCell>
        <TableCell>string</TableCell>
        <TableCell>-</TableCell>
        <TableCell>{`NativeWind className for layout, sizing, padding, and other style utilities.`}</TableCell>
      </TableRow>
    </TableBody>
  </Table>

Also inherits all props of React Native's [View](https://reactnative.dev/docs/view).

### Utility Functions

#### isLiquidGlassAvailable

```ts
import { isLiquidGlassAvailable } from '@/components/ui/expo-glass-effect';
```

Returns `true` on iOS 26+ devices that support the native liquid glass effect. Use this to conditionally render enhanced UI when the full liquid glass API is available.

#### isGlassEffectAPIAvailable

```ts
import { isGlassEffectAPIAvailable } from '@/components/ui/expo-glass-effect';
```

Returns `true` when any glass effect is supported (iOS and Android with blur fallback). Use this to gate glass-based UI behind a capability check.